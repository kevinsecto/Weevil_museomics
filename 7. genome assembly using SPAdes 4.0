#This commands describes how to create an assembly from trimmed sequences using SPAdes 4.0

# Load mamba
module load mamba/latest

# Activate/call SPAdes 4.0
# For example, at ASU cluster, I do activate bioinfo environment (contains spades 4.2.0)
source activate bioinfo

# Run assembly at ASU cluster
spades.py -t 16 -m 2000 -k 27,33,37,43,55,77,81,121 --pe1-1 /PATH/TO/TRIMMED/READ1.fastq.gz --pe1-2 /PATH/TO/TRIMMED/READ2.fastq.gz --pe1-s /PATH/TO/READ1_SINGLETONS.fastq.gz --pe2-s /PATH/TO/READ2_SINGLETONS.fastq.gz --checkpoints last -o /PATH/TO/OUTPUT/ASSEMBLY/FILENAME

# Optional: concatenate singleton files
cat /PATH/TO/READ1_SINGLETONS.fastq.gz /PATH/TO/READ2_SINGLETONS.fastq.gz

# Run assembly at CAS cluster (singletons concatenated into a single file)
/home/acorteshernandez/SPAdes-4.2.0-Linux/bin/spades.py -k 27,33,37,43,55,77,81,121 --pe1-1 /PATH/TO/TRIMMED/READ1.fastq.gz --pe1-2 /PATH/TO/TRIMMED/READ2.fastq.gz --pe1-s /PATH/TO/READ1_SINGLETONS.fastq.gz -o /PATH/TO/OUTPUT/ASSEMBLY/FILENAME -m 900 -t 16


